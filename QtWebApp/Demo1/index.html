<!DOCTYPE html>
<html>
  <head>
<!--    
    <script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>
-->
    <script language="javascript" src="Scripts/qwebchannel.js"></script>
    <script type="text/javascript">
var widget;

// Initialise connection to QT C++
function initialize() {
  if (typeof qt != 'undefined') {
    new QWebChannel(qt.webChannelTransport, function(channel) {
      widget = channel.objects.widget;
      //jj = channel.objects.AbstractNoScriptObject;
      //alert(jj);
      /*
      var result = jj.getTest("NickNick", function(result) {
          alert("jj=" + result);
      });
      */
      //dv = channel.objects.ComponentDevelopment;
      //var resultdv = dv.displayValue("dvdvdvdv");
      //alert("resultdv=" + resultdv);
      //dv.displayValue("nick");
      rr = channel.objects.ComponentRequestResponse;
      rr.getRequest(function(result) {
          var jsonparse = JSON.parse(result);
          var idMethod = jsonparse.ID_METHOD;
          alert(idMethod);
          var nick = "rrRequest=" + result;
          alert(nick);
          rr.setResponse(nick);
          rr.getResponse(function(result) {
              alert("rrResponse=" + result);
              //widget.close();
              widget.finish();
          });
      });
      //var resultdv = dv.displayValue("dvdvdvdv");
    });
  }
}
    </script>
  </head>
  <body onload="initialize()" bgcolor="#000000">
    <canvas id="canvas" width="400" height="150"></canvas>
  </body>
</html>

